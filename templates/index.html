<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Show images generated by DCGAN</title>
  </head>
  <body>



    <div style="margin: auto; text-align: center;">
      <div>
        <h1>Images generated by DCGAN</h1>
        <p>Deep convolutional GAN for image 128x128 RGB consist of 6 layers Generator with kernel 4x4,
          Batchnorm and leakyReLU activation and 6 layers Discriminator with
          Batchnorbm and leakyReLU activation.</p>
      </div>
      <div>
        How many images to generate?
        <input name="searchTxt" type="text" maxlength="4" value="16" id="nImg"/>
        <input type=button onClick="generate_image()" value='Generate'>
      </div>

      {% if images|length > 0 %}
      <div>
        <p>Generator input {{ images|length }}x400 (2D representation)</p>
        <img src="data:image/png;base64,{{ latent }}"
      </div>
      <div>
        <p>Generator output {{ images|length }}x128x128x3 (Generated images)</p>
        <table style="margin-left: auto; margin-right: auto;">
          {% for i in range(n_row) %}
            <tr>
              {% for j in range(n_col) %}
                {% if (i * n_col + j) < images|length  %}
                  <td>
                    <img src="data:image/png;base64,{{ images[i * n_col + j] }}"
                    style="padding: 5px;">
                  </td>
                {% endif %}
              {% endfor %}
            </tr>
          {% endfor %}
        </table>
      </div>
      {% endif %}

  </div>

  </body>

  <script  type="text/javascript">
    //window.onkeyup = click;

    function generate_image() {
      var nImg = document.getElementById("nImg").value;
      location.href='/gen?nimg='+nImg
    }
  </script>

</html>
